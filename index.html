<!doctype html>
<html lang="en" class="h-100">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>The Adventures of Cal Q. Luz</title>
	<link rel="icon" href="images/icon.png" type="image/png" sizes="256x256">
	<link href="https://fonts.googleapis.com/css?family=Nunito+Sans:200,400,400i,700,700i|Nunito:200,400,400i,700,700i,900&display=swap&subset=latin-ext" rel="stylesheet">
	<link rel="stylesheet" href="main.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css" integrity="sha256-PHcOkPmOshsMBC+vtJdVr5Mwb7r0LkSVJPlPrp/IMpU=" crossorigin="anonymous" />
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	<script src="js/classes.js" defer></script>
</head>

<body class="h-100">
	<div class="px-0 container-fluid h-100">
		<div class="row mx-0 no-gutters h-100">
			<div class="col-lg-3 h-100" id="convos">
				<div id="convos_head" class="row pt-4 pb-3 px-4 no-gutters w-100 border-bottom">
					<div class="col-10 col-md-4 col-lg-12 mb-0 align-self-center pr-1 pr-md-0" style="order: 1; animation-duration: 200ms;">
						<h2 class="mb-0" style="font-size: 2rem; font-weight: 900; text-overflow: ellipsis; overflow: hidden;">Conversations</h2>
					</div>
					<div class="col-2 d-block d-md-none align-self-center clearfix" style="order: 3">
						<button role="button" class="btn btn-outline-dark float-right" style="border-radius: 2rem;" id="search_btn">
							<i class="material-icons-round align-text-bottom mx-n1">search</i>
						</button>
					</div>
					<div id="search" class="col-10 col-md-8 col-lg-12 d-md-block mt-lg-2 pr-1 pr-md-0" style="order: 2; animation-duration: 200ms;">
						<input class="px-3 form-control" placeholder="Search" id="search_bar">
					</div>
				</div>
				
				<ul class="list-unstyled pb-4 mb-0">
					<li>
						<a class="py-3 media text-reset text-decoration-none" href="0/">
							<div class="icon icon-yellow ml-4 mr-3 align-self-center">
								<p>
									<i class="material-icons-round">games</i>
								</p>
							</div>
							<div class="mr-4 media-body text-left align-self-center">
								<h5 class="font-weight-bold mb-0"><span class="badge badge-yellow align-bottom">Game</span> Test your calculus skills!</h5>
								<p class="text-muted font-italic mb-0">Play this game now!</p>
							</div>
						</a>
					</li>
					<li>
						<a class="py-3 media text-reset text-decoration-none" href="1/">
							<img class="picture ml-4 mr-3 align-self-center" src="images/io%20dp.png">
							<div class="mr-4 media-body text-left align-self-center">
								<h5 class="font-weight-bold mb-0"><span class="badge badge-red align-bottom">Derivatives</span> Power Rule</h5>
								<p class="text-muted font-italic mb-0">with <span class="convo-recipient">Ian Okelani Kona</span></p>
							</div>
						</a>
					</li>
					<li>
						<a class="py-3 media text-reset text-decoration-none" href="2/">
							<img class="picture ml-4 mr-3 align-self-center" src="images/io%20dp.png">
							<div class="mr-4 media-body text-left align-self-center">
								<h5 class="font-weight-bold mb-0"><span class="badge badge-blue align-bottom">Integrals</span> Reverse Power Rule</h5>
								<p class="text-muted font-italic mb-0">with <span class="convo-recipient">Ian Okelani Kona</span></p>
							</div>
						</a>
					</li>
					<li>
						<a class="py-3 media text-reset text-decoration-none" href="3/">
							<img class="picture ml-4 mr-3 align-self-center" src="images/cal%20dp.png">
							<div class="mr-4 media-body text-left align-self-center">
								<h5 class="font-weight-bold mb-0"><span class="badge badge-red align-bottom">Derivatives</span> Product Rule</h5>
								<p class="text-muted font-italic mb-0">with <span class="convo-recipient">(new character)</span></p>
							</div>
						</a>
					</li>
					<li>
						<a class="py-3 media text-reset text-decoration-none" href="4/">
							<img class="picture ml-4 mr-3 align-self-center" src="images/cal%20dp.png">
							<div class="mr-4 media-body text-left align-self-center">
								<h5 class="font-weight-bold mb-0"><span class="badge badge-red align-bottom">Derivatives</span> Quotient Rule</h5>
								<p class="text-muted font-italic mb-0">with <span class="convo-recipient">(new character)</span></p>
							</div>
						</a>
					</li>
				</ul>
				<div id="no_results" class="text-center py-3 px-4">
					<p class="font-italic text-muted small">Sorry, we couldn’t find anything matching “<span></span>”.</p>
				</div>
			</div>
			<div class="col-lg-8 col-xl-9 d-none d-lg-flex px-3 border-left h-100 align-items-center justify-content-center" id="main_convo">
				<div class="text-center">
					<img src="images/icon.png" style="width: 200px; height: 200px" class="mb-2">
					<h1>Welcome to <span class="font-weight-bold font-italic">The Adventures of Cal Q. Luz</span>!</h1>
					<h5 class="font-italic text-muted">Select a conversation on the left to get started.</h5>
				</div>
			</div>
		</div>
	</div>
</body>

<script>
	let sideText = [
		["<span class=\"badge badge-yellow align-bottom\">Game</span> Test your calculus skills!", "Play this game now and see just how much you know about differentiation and integration!"],
		["<span class=\"badge badge-red align-bottom\">Derivatives</span> Power Rule", "Learn about the power rule, the most useful differentiation hack there is to know, with Ian Okelani “IO” Kona."],
		["<span class=\"badge badge-blue align-bottom\">Integrals</span> Reverse Power Rule", "Learn about the reverse power rule, the integration counterpart of the power rule, with Ian Okelani “IO” Kona."],
		["<span class=\"badge badge-red align-bottom\">Derivatives</span> Product Rule", "Learn about the product rule, used when two expressions are being multiplied, with (new character)."],
		["<span class=\"badge badge-red align-bottom\">Derivatives</span> Quotient Rule", "Learn about the quotient rule, used especially when dealing with rational expressions, with (new character)."]
	]
	
	let convoTexts = [];
	
	for (let g = 0; g < $("li").length; g++) {
		if ($("li").eq(g).find("[class*=icon]").length == 0) {
			convoTexts.push($("li").get(g).innerText.toLowerCase());
		} else {
			convoTexts.push($("li").get(g).innerText.toLowerCase().replace($("li").eq(g).find("[class*=icon]").get(0).innerText, ""));
		}
	}
	
	for (let a of $("li a")) {
		$(a).mouseenter(function() {
			$("#main_convo img").attr("src", $(a).find("img").attr("src"));
			$("#main_convo h1").html(sideText[$("ul li").index($(a).parent())][0]);
			$("#main_convo h5").html(sideText[$("ul li").index($(a).parent())][1]);
		});
		
		$(a).mouseleave(function() {
			$("#main_convo img").attr("src", "images/icon.png");
			$("#main_convo h1").html("Welcome to <span class=\"font-weight-bold font-italic\">The Adventures of Cal Q. Luz</span>!");
			$("#main_convo h5").html("Select a conversation on the left to get started.");
		});
	}
	
	$("#search_bar").on("change keyup input", function() {
		for (let h = 0; h < convoTexts.length; h++) {
			if (convoTexts[h].includes($("#search_bar").val().toLowerCase())) {
				$("li").eq(h).removeClass("d-none");
			} else {
				$("li").eq(h).addClass("d-none");
			}
		}
		
		if ($("li.d-none").length == convoTexts.length) {
			$("ul").hide();
			$("#no_results").show();
			$("#no_results span").text($("#search_bar").val());
		} else {
			$("ul").show();
			$("#no_results").hide();
		}
	});
	
	$("#search_btn").click(function() {
		if ($("#search_btn").hasClass("active")) {
			$("#search").addClass("animated fadeOut");
			$("#search").one("animationend", function() {
				$("#search").removeClass("animated fadeOut");
				$("#search").hide();
				$("#convos_head").children().eq(0).addClass("animated fadeIn");
				$("#convos_head").children().eq(0).show();
				$("#convos_head").children().eq(0).one("animationend", function() {
					$("#convos_head").children().eq(0).removeClass("animated fadeIn");
				});
			});
			
			$("#search_btn").attr("aria-pressed", false);
		} else {
			$("#convos_head").children().eq(0).addClass("animated fadeOut");
			$("#convos_head").children().eq(0).one("animationend", function() {
				$("#convos_head").children().eq(0).removeClass("animated fadeOut");
				$("#convos_head").children().eq(0).hide();
				$("#search").addClass("animated fadeIn");
				$("#search").show();
				$("#search").one("animationend", function() {
					$("#search").removeClass("animated fadeIn");
				});
			});
			
			$("#search_bar").focus();
			$("#search_btn").attr("aria-pressed", true);
		}
		
		$("#search_btn").toggleClass("active");
	});
	
	$(window).resize(function() {
		if (window.innerWidth < parseInt($(":root").css("--breakpoint-md"))) {
			if ($("#search").css("display") == "none") {
				$("#convos_head").children().eq(0).show();
			} else {
				$("#convos_head").children().eq(0).hide();
			}
		} else {
			$("#convos_head").children().eq(0).show();
		}
	})
	
	$(function() {
		$("#no_results").hide();
		$("#search").hide();
		$("#main_convos #icon-place").hide();
	});
</script>
	
</html>
